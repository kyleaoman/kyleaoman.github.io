<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Data visualisation | Kyle Oman</title> <meta name="author" content="Kyle Oman"> <meta name="description" content="rendering simulated galaxies for science &amp; enjoyment"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8C%8C&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://kyleaoman.github.io/projects/vis/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Kyle </span>Oman</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">research</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">code</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Data visualisation</h1> <p class="post-description">rendering simulated galaxies for science &amp; enjoyment</p> </header> <article> <p>I’ve spent part of the past few summers working in collaboration with project students on visualisation pipelines. A lot of this has been built around <a href="https://alejandrobll.github.io/py-sphviewer" rel="external nofollow noopener" target="_blank">py-sphviewer</a> that is now deprecated, but most of what we’ve learned is quite general and I hope to port it over to another visualisation toolkit in the future.</p> <h2 id="early-attempts">Early attempts</h2> <p>In 2021 I hosted a <a href="https://www.nuffieldresearchplacements.org/" rel="external nofollow noopener" target="_blank">Nuffield research placement</a> with a goal of trying to learn some rudimentary visualisation techniques including stitching together images of simulated galaxies at consecutive times to make videos. py-sphviewer served as a useful tool to do the actual rendering, but there were some holes to fill in around interpolating between simulation outputs and tracking a target galaxy through time. My student Jared and I figured out some of the basics. Linear interpolation between simulation ‘snapshots’ turns out to be sufficient, provided that the outputs are frequent enough in time. A cubic spline fit through the positions of the target galaxy at times when we had galaxy catalogues available turned out to produce a good trajectory for the ‘camera’. One of our early attempts to render the gas in a dwarf galaxy from the APOSTLE <a class="citation" href="#2016MNRAS.457.1931S">(Sawala et al. 2016)</a> over a few billion years of its evolution looked like this:</p> <figure> <video src="/assets/video/EarlyEvol.webm" class="img-fluid rounded" width="45%" height="auto" autoplay="" loop=""></video> <figcaption class="caption">An early attempt to visualise the gas in a dwarf galaxy. Since we rendered all of the gas in the simulation, we picked up a lot of structure in the background that dominates over the target galaxy early on. There's also an undesirable 'flickering' effect. (J. Turnbull, K. Oman).</figcaption> </figure> <p>We tried truncating a region around the target galaxy to suppress the background structure but this led to anything entering the target region appearing out of thin air. Eventually we solved this by ‘fading out’ towards the edge of the target region with an exponential suppression of the masses of particles close to the boundaries. We also figured out a global smoothly-varying colour scale normalisation to get rid of the flickering. By the end of the summer we managed to produce a video that we were pretty happy with overall:</p> <figure> <video src="/assets/video/CompositeCirc.webm" class="img-fluid rounded" width="45%" height="auto" autoplay="" loop=""></video> <figcaption class="caption">Composite visualisation of the dark matter (grayscale) and gas (purple/yellow) densities in a dwarf galaxy from the APOSTLE simulations. The viewing angle tracks the angular momentum of the gas to keep the disc face-on. (J. Turnbull, K. Oman)</figcaption> </figure> <h2 id="visualisation-driven-science">Visualisation-driven science</h2> <figure> <video src="/assets/video/FaceCirc.webm" class="img-fluid rounded" width="45%" height="auto" autoplay="" loop=""></video> <video src="/assets/video/EdgeCirc.webm" class="img-fluid rounded" width="45%" height="auto" autoplay="" loop=""></video> <figcaption class="caption">Visualisation of the gas density in a dwarf galaxy from the APOSTLE simulations over the last 4 billion years of its history. The viewing angle is aligned with the angular momentum vector (left) to keep the disc face-on. The right-hand video shows a perpendicular viewing angle so that the disc is seen edge-on. (E. Downing, K. Oman)</figcaption> </figure> <figure> <video src="/assets/video/Mosaic.webm" class="img-fluid rounded" width="90%" height="auto" controls=""></video> <figcaption class="caption">Visualisation of the gas density in dwarf galaxies from the APOSTLE simulations over the last 4 billion years of their history. The viewing angles are aligned with the angular momenta of the discs to keep them face-on. (E. Downing, K. Oman)</figcaption> </figure> <h2 id="non-density-rendering">Non-density rendering</h2> <figure> <video src="/assets/video/DensityCirc.webm" class="img-fluid rounded" width="45%" height="auto" autoplay="" loop=""></video> <video src="/assets/video/PhasesCirc.webm" class="img-fluid rounded" width="45%" height="auto" autoplay="" loop=""></video> <figcaption class="caption">Left: gas density rendering of a simulated galaxy from the APOSTLE simulation suite. Right: same galaxy with rendering colour-coded by hydrogen gas phase - red is ionized, blue is atomic and green is molecular. (M. Hunnisett, I. Santos-Santos, K. Oman)</figcaption> </figure> <h2 id="radio-datacube-visualisation">Radio datacube visualisation</h2> <figure> <video src="/assets/video/SlicerCapture.webm" class="img-fluid rounded" width="45%" height="auto" autoplay="" loop=""></video> <figcaption class="caption">Volume rendering of a 3D radio 'datacube'. The cube has two spatial axes corresponding to right ascension and declination, and a velocity axis corresponding to velocity of the hydrogen gas along the line of sight as measured from its Doppler shift. The image rotates through the spatial projection (approximately oval) and the major axis position-velocity diagram projection (approximately diagonal line). The target object is a strongly-warped giant galaxy from the EAGLE simulation suite, 'observed' with my MARTINI code. (K. Oman)</figcaption> </figure> </article> <h2>References</h2> <div class="publications"> <h2 class="bibliography">2023</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 abbr"></div> <div id="2023MNRAS.522.3318D" class="col-sm-8"> <div class="title">The many reasons that the rotation curves of low-mass galaxies can fail as tracers of their matter distributions</div> <div class="author"> Eleanor R. Downing, and <em>Kyle A. Oman</em> </div> <div class="editor"> </div> <div class="periodical"> (2023) MNRAS<b> 522</b> 3318 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a href="https://ui.adsabs.harvard.edu/abs/2023MNRAS.522.3318D" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">ADS</a> <a href="https://arxiv.org/abs/2301.05242" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">arXiv</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://doi.org/10.1093/mnras/stad868" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> <a href="/assets/pdf/2023MNRAS.522.3318D.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> <div class="badges"> </div> <div class="abstract hidden"> <p>It is routinely assumed that galaxy rotation curves are equal to their circular velocity curves (modulo some corrections) such that they are good dynamical mass tracers. We take a visualization- driven approach to exploring the limits of the validity of this assumption for a sample of 33 low-mass galaxies (60 v<sub>max</sub>/km s<sup>-1</sup> 120) from the APOSTLE suite of cosmological hydrodynamical simulations. Only three of these have rotation curves nearly equal to their circular velocity curves at z = 0, the rest are undergoing a wide variety of dynamical perturbations. We use our visualizations to guide an assessment of how many galaxies are likely to be strongly perturbed by processes in several categories: mergers/interactions (affecting 6/33 galaxies), bulk radial gas inflows (19/33), vertical gas outflows (15/33), distortions driven by a non-spherical DM halo (17/33), warps (8/33), and winds due to motion through the intergalactic medium (5/33). Most galaxies fall into more than one of these categories; only 5/33 are not in any of them. The sum of these effects leads to an underestimation of the low-velocity slope of the baryonic Tully-Fisher relation (α ∼3.1 instead of α ∼3.9, where M<sub>bar</sub> ∝ v<sup>α</sup>) that is difficult to avoid, and could plausibly be the source of a significant portion of the observed diversity in low-mass galaxy rotation curve shapes.</p> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">2023MNRAS.522.3318D</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{{Downing}, Eleanor R. and {Oman}, Kyle A.}</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{{The many reasons that the rotation curves of low-mass galaxies can fail as tracers of their matter distributions}}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{\mnras}</span><span class="p">,</span>
  <span class="na">keywords</span> <span class="p">=</span> <span class="s">{galaxies: dwarf, galaxies: kinematics and dynamics, dark matter, Astrophysics - Astrophysics of Galaxies}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2023}</span><span class="p">,</span>
  <span class="na">month</span> <span class="p">=</span> <span class="nv">jul</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{522}</span><span class="p">,</span>
  <span class="na">number</span> <span class="p">=</span> <span class="s">{3}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{3318-3336}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{10.1093/mnras/stad868}</span><span class="p">,</span>
  <span class="na">archiveprefix</span> <span class="p">=</span> <span class="s">{arXiv}</span><span class="p">,</span>
  <span class="na">eprint</span> <span class="p">=</span> <span class="s">{2301.05242}</span><span class="p">,</span>
  <span class="na">primaryclass</span> <span class="p">=</span> <span class="s">{astro-ph.GA}</span><span class="p">,</span>
  <span class="na">adsurl</span> <span class="p">=</span> <span class="s">{https://ui.adsabs.harvard.edu/abs/2023MNRAS.522.3318D}</span><span class="p">,</span>
  <span class="na">adsnote</span> <span class="p">=</span> <span class="s">{Provided by the SAO/NASA Astrophysics Data System}</span><span class="p">,</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li></ol> <h2 class="bibliography">2016</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 abbr"></div> <div id="2016MNRAS.457.1931S" class="col-sm-8"> <div class="title">The APOSTLE simulations: solutions to the Local Group’s cosmic puzzles</div> <div class="author"> Till Sawala, Carlos S. Frenk, Azadeh Fattahi, and <span class="more-authors" title="click to view 13 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '13 more authors' ? 'Julio F. Navarro, Richard G. Bower, Robert A. Crain, Claudio Dalla Vecchia, Michelle Furlong, John. C. Helly, Adrian Jenkins, Kyle A. Oman, Matthieu Schaller, Joop Schaye, Tom Theuns, James Trayford, Simon D. M. White' : '13 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '1'); ">13 more authors</span> </div> <div class="editor"> </div> <div class="periodical"> (2016) MNRAS<b> 457</b> 1931 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a href="https://ui.adsabs.harvard.edu/abs/2016MNRAS.457.1931S" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">ADS</a> <a href="https://arxiv.org/abs/1511.01098" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">arXiv</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://doi.org/10.1093/mnras/stw145" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> <a href="/assets/pdf/2016MNRAS.457.1931S.pdf" class="btn btn-sm z-depth-0" role="button">PDF</a> </div> <div class="badges"> </div> <div class="abstract hidden"> <p>The Local Group galaxies offer some of the most discriminating tests of models of cosmic structure formation. For example, observations of the Milky Way (MW) and Andromeda satellite populations appear to be in disagreement with N-body simulations of the ‘lambda cold dark matter’ (ΛCDM) model: there are far fewer satellite galaxies than substructures in CDM haloes (the ‘missing satellites’ problem); dwarf galaxies seem to avoid the most massive substructures (the ‘too-big-to-fail’ problem); and the brightest satellites appear to orbit their host galaxies on a thin plane (the ‘planes of satellites’ problem). Here we present results from APOSTLE (A Project Of Simulating The Local Environment), a suite of cosmological hydrodynamic simulations of 12 volumes selected to match the kinematics of the Local Group (LG) members. Applying the EAGLE code to the LG environment, we find that our simulations match the observed abundance of LG galaxies, including the satellite galaxies of the MW and Andromeda. Due to changes to the structure of haloes and the evolution in the LG environment, the simulations reproduce the observed relation between stellar mass and velocity dispersion of individual dwarf spheroidal galaxies without necessitating the formation of cores in their dark matter profiles. Satellite systems form with a range of spatial anisotropies, including one similar to the MWs, confirming that such a configuration is not unexpected in ΛCDM. Finally, based on the observed velocity dispersion, size, and stellar mass, we provide estimates of the maximum circular velocity for the haloes of nine MW dwarf spheroidals.</p> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">2016MNRAS.457.1931S</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{{Sawala}, Till and {Frenk}, Carlos S. and {Fattahi}, Azadeh and {Navarro}, Julio F. and {Bower}, Richard G. and {Crain}, Robert A. and {Dalla Vecchia}, Claudio and {Furlong}, Michelle and {Helly}, John. C. and {Jenkins}, Adrian and {Oman}, Kyle A. and {Schaller}, Matthieu and {Schaye}, Joop and {Theuns}, Tom and {Trayford}, James and {White}, Simon D.~M.}</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{{The APOSTLE simulations: solutions to the Local Group's cosmic puzzles}}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{\mnras}</span><span class="p">,</span>
  <span class="na">keywords</span> <span class="p">=</span> <span class="s">{galaxies: evolution, galaxies: formation, cosmology: theory, Astrophysics - Astrophysics of Galaxies, Astrophysics - Cosmology and Nongalactic Astrophysics}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2016}</span><span class="p">,</span>
  <span class="na">month</span> <span class="p">=</span> <span class="nv">apr</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{457}</span><span class="p">,</span>
  <span class="na">number</span> <span class="p">=</span> <span class="s">{2}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{1931-1943}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{10.1093/mnras/stw145}</span><span class="p">,</span>
  <span class="na">archiveprefix</span> <span class="p">=</span> <span class="s">{arXiv}</span><span class="p">,</span>
  <span class="na">eprint</span> <span class="p">=</span> <span class="s">{1511.01098}</span><span class="p">,</span>
  <span class="na">primaryclass</span> <span class="p">=</span> <span class="s">{astro-ph.GA}</span><span class="p">,</span>
  <span class="na">adsurl</span> <span class="p">=</span> <span class="s">{https://ui.adsabs.harvard.edu/abs/2016MNRAS.457.1931S}</span><span class="p">,</span>
  <span class="na">adsnote</span> <span class="p">=</span> <span class="s">{Provided by the SAO/NASA Astrophysics Data System}</span><span class="p">,</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li></ol> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Kyle Oman. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with modified <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: August 29, 2023. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>